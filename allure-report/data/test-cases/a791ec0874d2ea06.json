{"uid":"a791ec0874d2ea06","name":"Проверка открытия Дзена в новом окне при клике на логотип Яндекса","fullName":"tests.test_navigation.TestNavigation#test_yandex_logo_opens_dzen_in_new_window","historyId":"d1b37af06c3aede998415a6fb2d458c4","time":{"start":1760128640484,"stop":1760128641527,"duration":1043},"description":"Тест проверяет, что клик по логотипу Яндекса открывает Дзен через редирект в новом окне","descriptionHtml":"<p>Тест проверяет, что клик по логотипу Яндекса открывает Дзен через редирект в новом окне</p>\n","status":"failed","statusMessage":"AssertionError: Ожидался переход на Дзен, но открылся URL: about:blank\nassert ('dzen.ru' in 'about:blank' or 'yandex' in 'about:blank')","statusTrace":"self = <tests.test_navigation.TestNavigation object at 0x000001C0FD7191D0>, driver = <selenium.webdriver.firefox.webdriver.WebDriver (session=\"6d5c66cf-64c2-4313-9b62-8a52b7d28966\")>\n\n    @allure.feature(\"Навигация\")\n    @allure.story(\"Клик по логотипу Яндекса\")\n    @allure.title(\"Проверка открытия Дзена в новом окне при клике на логотип Яндекса\")\n    @allure.description(\"Тест проверяет, что клик по логотипу Яндекса открывает Дзен через редирект в новом окне\")\n    def test_yandex_logo_opens_dzen_in_new_window(self, driver):\n        \"\"\"Проверка: клик по логотипу Яндекса открывает Дзен в новом окне\"\"\"\n        with allure.step(\"Открываем главную страницу\"):\n            driver.get(\"https://qa-scooter.praktikum-services.ru/\")\n    \n        with allure.step(\"Сохраняем текущее окно\"):\n            original_window = driver.current_window_handle\n    \n        with allure.step(\"Кликаем по логотипу Яндекса\"):\n            main_page = MainPage(driver)\n            main_page.click_yandex_logo()\n    \n        with allure.step(\"Ожидаем открытия нового окна\"):\n            driver.implicitly_wait(3)\n            all_windows = driver.window_handles\n            assert len(all_windows) > 1, \"Новое окно не открылось\"\n    \n        with allure.step(\"Переключаемся на новое окно\"):\n            for window in all_windows:\n                if window != original_window:\n                    driver.switch_to.window(window)\n                    break\n    \n        with allure.step(\"Ожидаем загрузки страницы и проверяем редирект на Дзен\"):\n            driver.implicitly_wait(5)\n            current_url = driver.current_url\n>           assert \"dzen.ru\" in current_url or \"yandex\" in current_url, \\\n                f\"Ожидался переход на Дзен, но открылся URL: {current_url}\"\nE           AssertionError: Ожидался переход на Дзен, но открылся URL: about:blank\nE           assert ('dzen.ru' in 'about:blank' or 'yandex' in 'about:blank')\n\ntests\\test_navigation.py:69: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"driver","time":{"start":1760128635750,"stop":1760128640484,"duration":4734},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":false}],"testStage":{"description":"Тест проверяет, что клик по логотипу Яндекса открывает Дзен через редирект в новом окне","status":"failed","statusMessage":"AssertionError: Ожидался переход на Дзен, но открылся URL: about:blank\nassert ('dzen.ru' in 'about:blank' or 'yandex' in 'about:blank')","statusTrace":"self = <tests.test_navigation.TestNavigation object at 0x000001C0FD7191D0>, driver = <selenium.webdriver.firefox.webdriver.WebDriver (session=\"6d5c66cf-64c2-4313-9b62-8a52b7d28966\")>\n\n    @allure.feature(\"Навигация\")\n    @allure.story(\"Клик по логотипу Яндекса\")\n    @allure.title(\"Проверка открытия Дзена в новом окне при клике на логотип Яндекса\")\n    @allure.description(\"Тест проверяет, что клик по логотипу Яндекса открывает Дзен через редирект в новом окне\")\n    def test_yandex_logo_opens_dzen_in_new_window(self, driver):\n        \"\"\"Проверка: клик по логотипу Яндекса открывает Дзен в новом окне\"\"\"\n        with allure.step(\"Открываем главную страницу\"):\n            driver.get(\"https://qa-scooter.praktikum-services.ru/\")\n    \n        with allure.step(\"Сохраняем текущее окно\"):\n            original_window = driver.current_window_handle\n    \n        with allure.step(\"Кликаем по логотипу Яндекса\"):\n            main_page = MainPage(driver)\n            main_page.click_yandex_logo()\n    \n        with allure.step(\"Ожидаем открытия нового окна\"):\n            driver.implicitly_wait(3)\n            all_windows = driver.window_handles\n            assert len(all_windows) > 1, \"Новое окно не открылось\"\n    \n        with allure.step(\"Переключаемся на новое окно\"):\n            for window in all_windows:\n                if window != original_window:\n                    driver.switch_to.window(window)\n                    break\n    \n        with allure.step(\"Ожидаем загрузки страницы и проверяем редирект на Дзен\"):\n            driver.implicitly_wait(5)\n            current_url = driver.current_url\n>           assert \"dzen.ru\" in current_url or \"yandex\" in current_url, \\\n                f\"Ожидался переход на Дзен, но открылся URL: {current_url}\"\nE           AssertionError: Ожидался переход на Дзен, но открылся URL: about:blank\nE           assert ('dzen.ru' in 'about:blank' or 'yandex' in 'about:blank')\n\ntests\\test_navigation.py:69: AssertionError","steps":[{"name":"Открываем главную страницу","time":{"start":1760128640484,"stop":1760128641469,"duration":985},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"Сохраняем текущее окно","time":{"start":1760128641469,"stop":1760128641476,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"Кликаем по логотипу Яндекса","time":{"start":1760128641476,"stop":1760128641515,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"Ожидаем открытия нового окна","time":{"start":1760128641515,"stop":1760128641523,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"Переключаемся на новое окно","time":{"start":1760128641523,"stop":1760128641524,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"Ожидаем загрузки страницы и проверяем редирект на Дзен","time":{"start":1760128641524,"stop":1760128641526,"duration":2},"status":"failed","statusMessage":"AssertionError: Ожидался переход на Дзен, но открылся URL: about:blank\nassert ('dzen.ru' in 'about:blank' or 'yandex' in 'about:blank')\n","statusTrace":"  File \"C:\\Users\\User\\Desktop\\Sprint_6\\tests\\test_navigation.py\", line 69, in test_yandex_logo_opens_dzen_in_new_window\n    assert \"dzen.ru\" in current_url or \"yandex\" in current_url, \\\n        f\"Ожидался переход на Дзен, но открылся URL: {current_url}\"\n","steps":[],"attachments":[],"parameters":[],"hasContent":true,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":true}],"attachments":[],"parameters":[],"hasContent":true,"stepsCount":6,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":true},"afterStages":[{"name":"driver::0","time":{"start":1760128641569,"stop":1760128644133,"duration":2564},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":false}],"labels":[{"name":"story","value":"Клик по логотипу Яндекса"},{"name":"feature","value":"Навигация"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_navigation"},{"name":"subSuite","value":"TestNavigation"},{"name":"host","value":"WIN-M175HLNEFBK"},{"name":"thread","value":"20412-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_navigation"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"a791ec0874d2ea06.json","parameterValues":[]}